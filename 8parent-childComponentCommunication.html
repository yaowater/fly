<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .pane {
            padding: 20px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>

    <div id='app'>
        <!-- 子组件 -->
        <qf-child aaa='1' :arr='arr' :msg='baidu' :href='href' @abc='abcHandle'></qf-child>
    </div>   

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script>

        // 父子组件通信
        // 父组件向子组件传值，使用props
        // 子组件向父组件传值，使用自定义事件

        Vue.component('qf-child', {
            // 用于指定当前自定义组件，可以拥有的所有自定义属性
            props: {
                msg: {
                    type: String,  // 指定自定义属性的数据类型
                    required: false  // 这个自定义属性是否必填
                },
                href: {
                    type: String,
                    required: true
                },
                arr: {
                    type: Array,
                    required: false,
                    default: function() {
                        return ['a','b','c','d']
                    }
                },
                aaa: {
                    type: String,
                    required: false,
                    default: ''
                }
            },
            template: `
            <div @click='click'>
                <h3>qf-child</h3>
                <a :href="href" v-text="msg"></a>
                <div>
                    <span v-for='i in arr' v-text='i' :key='i'></span>
                </div>
            </div>
            `,
            mounted() {
                console.log('---', this.aaa)
            },
            methods: {
                click() {
                    // 复杂的业务逻辑
                    this.$emit('abc', 'hello app', 100)
                }
            }
        })

        
        // 组件：根组件
        new Vue({
            el: '#app',
            data: {
                baidu: "百度",
                href: 'https://baidu.com',
                arr: [1,2,3,4]
            },
            methods: {
                abcHandle(arg, arg2) {
                    console.log('父组件 abc事件执行了', arg, arg2)
                }
            },
            mounted() {
                console.log('app mounted')
            }
        })


    
    </script>
</body>
</html>