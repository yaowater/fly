<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
<button id="btn">按钮</button>

<script>
// 词法作用域(静态作用域)
// var a = 123;
// function fn1(){
//     console.log(a);//123
// }
// function fn2(){
//     var a = 456;
//     fn1();
// }
// fn2();
// fn1();

// 类似于动态作用域 this
// function show(){
//     console.log(this);
// }
// show();//window

// btn.onclick = show;//btn


var a = 123;
function test(x,y){
    console.log(x);//7
    var b = 456;
    function fn(){}
    console.log(b);
}
test(7,8);

// 1.执行上下文创建阶段
/* globalEC = {// 全局执行环境
    scopeChain: [window对象的引用地址],// 作用域链
    VO: {// 变量对象 -> window
        a: undefined，-> 123
        test: function (){
            var b = 456;
            function fn(){}
            console.log(a);
        },
        // ....
    }
    this: window
}

testEC = {
    scopeChain: [testEC.AO对象的引用地址,globalEC.VO的引用地址],// 作用域链
    AO: {// 活动对象
        x: 7,
        y: 8,
        b: undefined, -> 456
        fn: function fn(){},
        arguments: {
            0: 7,
            1: 8,
            length: 2
        }
    }
    this: window,
    
}
 */
// 2.进入激活/执行代码阶段
a = 123;
test(7,8);
    b = 456;
    console.log(a);//123


</script>
</body>
</html>