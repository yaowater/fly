<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

<ul class="list">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
</ul>


<script>

function test1(){//普通函数
    console.log(111);
    console.log(222);
    console.log(333);
}
// test1();


function*test2(){}//generator函数
function* test3(){}//generator函数
function *test4(){}//generator函数
function * test5(){}//generator函数
function * test6(){//generator函数
    console.log('程序1');
    yield 123;
    console.log('程序2');
    yield 456;
    console.log('程序3');
    yield 789;
}
var iterator = test6();// generator函数执行后返回迭代器对象
// console.log(iterator);//迭代器对象{...}
// console.log( iterator.next() ); // {value: 123, done: false}
// console.log( iterator.next() ); // {value: 456, done: false}
// console.log( iterator.next() ); // {value: 789, done: false}
// console.log( iterator.next() ); // {value: undefined, done: true}


// for/of  ...扩展运算符 能操作哪些数据？
// 数组  字符串  元素集合  arguments  Set  Map 都部署了迭代器
var arr = ['a1','a2','a3','a4'];
var str = new String('abcd');
var lis = document.querySelectorAll('.list li');
var obj = {
    name: '小明',
    age: 25,
    sex: '女'
};

// console.log(arr);// 原型上有一个属性 Symbol.iterator
// console.log(str);// 原型上有一个属性 Symbol.iterator
// console.log(lis);// 原型上有一个属性 Symbol.iterator
// console.log(obj);// 原型上没有属性 Symbol.iterator


// console.log( Object.keys(obj) );// ["name", "age", "sex"]

// 给对象部署迭代器
function * myGenerator(){
    let attrArr = Object.keys(this);
    for(var key of attrArr){
        // yield key;
        yield this[key];
        // yield [key,this[key]];
    }
}
obj[Symbol.iterator] = myGenerator;

// console.log( arr[Symbol.iterator] );// ƒ values() { [native code] } -> 就是一个generator函数

// for (var val of arr){
//     console.log(val);// a1 a2 a3 a4
// }

// for (var val of str){
//     console.log(val);// a b c d
// }

// for (var val of obj){
//     console.log(val);//obj is not iterable
// }


// console.log(...arr);
// console.log(...str);
console.log(...obj);


</script>
</body>
</html>